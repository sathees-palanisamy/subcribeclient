{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/satheeskumarpalanisamy/service/careerservice/client/pages/edit.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport buildClient from '../api/build-client';\nimport axios from \"axios\";\n\nvar checkBoxInitObj = function checkBoxInitObj(curDepList, depList) {\n  curDepList.map(function (sinDep, index) {\n    console.log('checkBoxInitObj function');\n    var subcribedValue = false;\n\n    for (var j = 0; j < depList.length; j++) {\n      if (depList[j] === sinDep) {\n        subcribedValue = true;\n      }\n    }\n\n    return {\n      \"department\": sinDep,\n      \"subcribed\": subcribedValue\n    };\n  });\n};\n\nvar EditSubCribe = function EditSubCribe(_ref) {\n  var currentUser = _ref.currentUser;\n\n  var _useState = useState([]),\n      depList = _useState[0],\n      SetDepList = _useState[1];\n\n  var curDepList = [\"Information Technology\", \"Textile\", \"Automobile\", \"Medical Science\", \"Marine\", \"Business Management\", \"Agriculture & Biology\", \"Electrical & Electronics\", \"Chemical\", \"Communication\", \"Civil\", \"Mech & Manufacturing\", \"Entertainment\", \"Aerospace\", \"Physics\", \"Maths\", \"Arts and Hotel\"];\n\n  var _useState2 = useState([]),\n      checkBoxList = _useState2[0],\n      setCheckBoxList = _useState2[1];\n\n  var handleCheckboxClick = function handleCheckboxClick(event, checkBoxDepart) {\n    console.log('event.target.checked:' + event.target.checked);\n    console.log('checkBoxDepart:' + checkBoxDepart.department);\n\n    var newCheckObj = _toConsumableArray(checkBoxList);\n\n    newCheckObj.map(function (singleCObj, index) {\n      if (singleCObj.department === checkBoxDepart.department) {\n        var newState = newCheckObj[index].subcribed;\n        newCheckObj[index].subcribed = !newState;\n        console.log('newCheckObj[index].department:' + newCheckObj[index].department);\n        console.log('newCheckObj[index].subcribed:' + newCheckObj[index].subcribed);\n      }\n    });\n    setCheckBoxList(_toConsumableArray(newCheckObj));\n  };\n\n  useEffect(function () {\n    axios.get(\"/api/subcribe\").then(function (response) {\n      return SetDepList(_toConsumableArray(response.data));\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n    setCheckBoxList(checkBoxInitObj(curDepList, depList));\n  }, []);\n  var depRenderList;\n\n  if (checkBoxList.length !== 0) {\n    depRenderList = checkBoxList.map(function (sinDep, index) {\n      return __jsx(\"div\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 2\n        }\n      }, __jsx(\"input\", {\n        type: \"checkbox\",\n        checked: sinDep.subcribed,\n        onChange: function onChange(e) {\n          return handleCheckboxClick(e, sinDep);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 4\n        }\n      }), __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 4\n        }\n      }, \" \"), __jsx(\"label\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 18\n        }\n      }, sinDep.department));\n    });\n  }\n\n  var finalRenderDep = __jsx(\"div\", {\n    className: \"p-d-flex p-flex-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 26\n    }\n  }, depRenderList);\n\n  return currentUser ? __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, \"Subcribed Department List\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, finalRenderDep), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }), __jsx(\"button\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }\n  }, \"Submit\")) : __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, \"You are NOT signed in\");\n};\n\nEditSubCribe.getInitialProps = function _callee(context) {\n  var client, _await$client$get, data;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('Edit Page!');\n          client = buildClient(context);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(client.get('/api/users/currentuser'));\n\n        case 4:\n          _await$client$get = _context.sent;\n          data = _await$client$get.data;\n          console.log('data:' + data.currentUser);\n          return _context.abrupt(\"return\", data);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default EditSubCribe;","map":{"version":3,"sources":["/Users/satheeskumarpalanisamy/service/careerservice/client/pages/edit.js"],"names":["useEffect","useState","buildClient","axios","checkBoxInitObj","curDepList","depList","map","sinDep","index","console","log","subcribedValue","j","length","EditSubCribe","currentUser","SetDepList","checkBoxList","setCheckBoxList","handleCheckboxClick","event","checkBoxDepart","target","checked","department","newCheckObj","singleCObj","newState","subcribed","get","then","response","data","error","depRenderList","e","finalRenderDep","getInitialProps","context","client"],"mappings":"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","sourcesContent":["import { useEffect,useState } from 'react';\nimport buildClient from '../api/build-client';\nimport axios from \"axios\";\n\nconst checkBoxInitObj = (curDepList,depList) => { curDepList.map((sinDep,index) => {\n  console.log('checkBoxInitObj function');\n\n  let subcribedValue = false\n\n  for (let j=0; j < depList.length;j++) {\n    if (depList[j] === sinDep) {\n      subcribedValue = true;\n    }\n  }\n\n  return {\n    \"department\": sinDep,\n    \"subcribed\": subcribedValue\n  }\n})\n\n}\n\n\nconst EditSubCribe = ({ currentUser }) => {\n\nconst [depList, SetDepList] = useState([]);\n\nconst curDepList = [\n      \"Information Technology\",\n      \"Textile\",\n      \"Automobile\",\n      \"Medical Science\",\n      \"Marine\",\n      \"Business Management\",\n      \"Agriculture & Biology\",\n      \"Electrical & Electronics\",\n      \"Chemical\",\n      \"Communication\",\n      \"Civil\",\n      \"Mech & Manufacturing\",\n      \"Entertainment\",\n      \"Aerospace\",\n      \"Physics\",\n      \"Maths\",\n      \"Arts and Hotel\"\n];\n\nconst [checkBoxList,setCheckBoxList] = useState([]);\n\n\nconst handleCheckboxClick = (event,checkBoxDepart) => {\n\n  console.log('event.target.checked:' + event.target.checked);\n  console.log('checkBoxDepart:' + checkBoxDepart.department);\n\n  let newCheckObj = [...checkBoxList];\n\n  newCheckObj.map((singleCObj,index) => {\n\n    if (singleCObj.department === checkBoxDepart.department) {\n      let newState = newCheckObj[index].subcribed;\n      newCheckObj[index].subcribed = !newState;\n      console.log('newCheckObj[index].department:' + newCheckObj[index].department);\n      console.log('newCheckObj[index].subcribed:' + newCheckObj[index].subcribed);\n    }\n  \n  });\n\n  setCheckBoxList([...newCheckObj]);\n\n}\n\n\n useEffect(() => {\n    axios.get(\"/api/subcribe\")\n    .then((response) => SetDepList([...response.data]))\n    .catch((error) => {\n      console.log(error)\n    });  \n    setCheckBoxList(checkBoxInitObj(curDepList,depList));\n\n },[]);\n\n\n let depRenderList;\n\n if (checkBoxList.length !== 0) {\n\n  depRenderList = checkBoxList.map((sinDep,index) => {\n \n  return(\n <div key={index}> \n   <input type=\"checkbox\" checked={sinDep.subcribed} onChange={(e) => handleCheckboxClick(e,sinDep)}></input>\n   <span> </span><label>{sinDep.department}</label>\n </div> \n  );\n });\n\n}\n\n\n const finalRenderDep =  <div className=\"p-d-flex p-flex-column\">\n   {depRenderList}\n </div>\n\n  return currentUser ? (\n    <div className=\"container\">\n      <br></br>\n    <h2>Subcribed Department List</h2>\n    <br></br>\n    <div>\n    {finalRenderDep}\n    </div>\n    <br></br>\n   <button>Submit</button>\n    </div>\n \n    \n  ) : (\n    <h1>You are NOT signed in</h1>\n  );\n};\n\nEditSubCribe.getInitialProps = async context => {\n  console.log('Edit Page!');\n  const client = buildClient(context);\n  const { data } = await client.get('/api/users/currentuser');\n  console.log('data:' + data.currentUser);\n\n  return data;\n};\n\nexport default EditSubCribe;\n\n"]},"metadata":{},"sourceType":"module"}